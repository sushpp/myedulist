{"ast":null,"code":"import { authAPI } from './api';\nexport const authService = {\n  async login(email, password, type) {\n    try {\n      const response = await authAPI.login({\n        email,\n        password,\n        type\n      });\n      return response.data;\n    } catch (error) {\n      var _error$response, _error$response$data;\n      throw new Error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Login failed');\n    }\n  },\n  async register(userData, type) {\n    try {\n      // Ensure all required fields are present\n      const registrationData = {\n        name: userData.name,\n        email: userData.email,\n        password: userData.password,\n        userType: type,\n        ...(type === 'institute' && {\n          website: userData.website,\n          affiliation: userData.affiliation,\n          address: userData.address,\n          city: userData.city,\n          state: userData.state,\n          contactNumber: userData.contactNumber,\n          description: userData.description\n        })\n      };\n      console.log('Sending registration data:', registrationData);\n      const response = await authAPI.register(registrationData);\n      return response.data;\n    } catch (error) {\n      var _error$response2, _error$response3, _error$response3$data;\n      console.error('Registration error details:', (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data);\n      throw new Error(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || 'Registration failed');\n    }\n  },\n  async verifyToken(token) {\n    try {\n      const response = await authAPI.verifyToken();\n      return response.data.user;\n    } catch (error) {\n      throw new Error('Token verification failed');\n    }\n  },\n  logout() {\n    localStorage.removeItem('token');\n    localStorage.removeItem('userType');\n  }\n};","map":{"version":3,"names":["authAPI","authService","login","email","password","type","response","data","error","_error$response","_error$response$data","Error","message","register","userData","registrationData","name","userType","website","affiliation","address","city","state","contactNumber","description","console","log","_error$response2","_error$response3","_error$response3$data","verifyToken","token","user","logout","localStorage","removeItem"],"sources":["C:/Users/HP-PC/Desktop/edulist/frontend/src/services/auth.js"],"sourcesContent":["import { authAPI } from './api';\r\n\r\nexport const authService = {\r\n  async login(email, password, type) {\r\n    try {\r\n      const response = await authAPI.login({ email, password, type });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw new Error(error.response?.data?.message || 'Login failed');\r\n    }\r\n  },\r\n\r\n  async register(userData, type) {\r\n    try {\r\n      // Ensure all required fields are present\r\n      const registrationData = {\r\n        name: userData.name,\r\n        email: userData.email,\r\n        password: userData.password,\r\n        userType: type,\r\n        ...(type === 'institute' && {\r\n          website: userData.website,\r\n          affiliation: userData.affiliation,\r\n          address: userData.address,\r\n          city: userData.city,\r\n          state: userData.state,\r\n          contactNumber: userData.contactNumber,\r\n          description: userData.description\r\n        })\r\n      };\r\n\r\n      console.log('Sending registration data:', registrationData);\r\n      \r\n      const response = await authAPI.register(registrationData);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Registration error details:', error.response?.data);\r\n      throw new Error(error.response?.data?.message || 'Registration failed');\r\n    }\r\n  },\r\n\r\n  async verifyToken(token) {\r\n    try {\r\n      const response = await authAPI.verifyToken();\r\n      return response.data.user;\r\n    } catch (error) {\r\n      throw new Error('Token verification failed');\r\n    }\r\n  },\r\n\r\n  logout() {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('userType');\r\n  }\r\n};"],"mappings":"AAAA,SAASA,OAAO,QAAQ,OAAO;AAE/B,OAAO,MAAMC,WAAW,GAAG;EACzB,MAAMC,KAAKA,CAACC,KAAK,EAAEC,QAAQ,EAAEC,IAAI,EAAE;IACjC,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMN,OAAO,CAACE,KAAK,CAAC;QAAEC,KAAK;QAAEC,QAAQ;QAAEC;MAAK,CAAC,CAAC;MAC/D,OAAOC,QAAQ,CAACC,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MAAA,IAAAC,eAAA,EAAAC,oBAAA;MACd,MAAM,IAAIC,KAAK,CAAC,EAAAF,eAAA,GAAAD,KAAK,CAACF,QAAQ,cAAAG,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBF,IAAI,cAAAG,oBAAA,uBAApBA,oBAAA,CAAsBE,OAAO,KAAI,cAAc,CAAC;IAClE;EACF,CAAC;EAED,MAAMC,QAAQA,CAACC,QAAQ,EAAET,IAAI,EAAE;IAC7B,IAAI;MACF;MACA,MAAMU,gBAAgB,GAAG;QACvBC,IAAI,EAAEF,QAAQ,CAACE,IAAI;QACnBb,KAAK,EAAEW,QAAQ,CAACX,KAAK;QACrBC,QAAQ,EAAEU,QAAQ,CAACV,QAAQ;QAC3Ba,QAAQ,EAAEZ,IAAI;QACd,IAAIA,IAAI,KAAK,WAAW,IAAI;UAC1Ba,OAAO,EAAEJ,QAAQ,CAACI,OAAO;UACzBC,WAAW,EAAEL,QAAQ,CAACK,WAAW;UACjCC,OAAO,EAAEN,QAAQ,CAACM,OAAO;UACzBC,IAAI,EAAEP,QAAQ,CAACO,IAAI;UACnBC,KAAK,EAAER,QAAQ,CAACQ,KAAK;UACrBC,aAAa,EAAET,QAAQ,CAACS,aAAa;UACrCC,WAAW,EAAEV,QAAQ,CAACU;QACxB,CAAC;MACH,CAAC;MAEDC,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAEX,gBAAgB,CAAC;MAE3D,MAAMT,QAAQ,GAAG,MAAMN,OAAO,CAACa,QAAQ,CAACE,gBAAgB,CAAC;MACzD,OAAOT,QAAQ,CAACC,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MAAA,IAAAmB,gBAAA,EAAAC,gBAAA,EAAAC,qBAAA;MACdJ,OAAO,CAACjB,KAAK,CAAC,6BAA6B,GAAAmB,gBAAA,GAAEnB,KAAK,CAACF,QAAQ,cAAAqB,gBAAA,uBAAdA,gBAAA,CAAgBpB,IAAI,CAAC;MAClE,MAAM,IAAII,KAAK,CAAC,EAAAiB,gBAAA,GAAApB,KAAK,CAACF,QAAQ,cAAAsB,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBrB,IAAI,cAAAsB,qBAAA,uBAApBA,qBAAA,CAAsBjB,OAAO,KAAI,qBAAqB,CAAC;IACzE;EACF,CAAC;EAED,MAAMkB,WAAWA,CAACC,KAAK,EAAE;IACvB,IAAI;MACF,MAAMzB,QAAQ,GAAG,MAAMN,OAAO,CAAC8B,WAAW,CAAC,CAAC;MAC5C,OAAOxB,QAAQ,CAACC,IAAI,CAACyB,IAAI;IAC3B,CAAC,CAAC,OAAOxB,KAAK,EAAE;MACd,MAAM,IAAIG,KAAK,CAAC,2BAA2B,CAAC;IAC9C;EACF,CAAC;EAEDsB,MAAMA,CAAA,EAAG;IACPC,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;IAChCD,YAAY,CAACC,UAAU,CAAC,UAAU,CAAC;EACrC;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}