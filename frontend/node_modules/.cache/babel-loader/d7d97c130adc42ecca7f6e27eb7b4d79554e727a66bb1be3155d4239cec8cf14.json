{"ast":null,"code":"import _objectSpread from\"C:/Users/HP-PC/Desktop/edulist/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{instituteService}from'../../services/institute';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FacilitiesManagement=()=>{const[facilities,setFacilities]=useState([]);const[showForm,setShowForm]=useState(false);const[formData,setFormData]=useState({name:'',description:''});const[loading,setLoading]=useState(false);const[message,setMessage]=useState('');useEffect(()=>{fetchInstituteData();},[]);const fetchInstituteData=async()=>{try{const institute=await instituteService.getInstituteProfile();setFacilities(institute.facilities||[]);}catch(error){console.error('Error fetching institute data:',error);// Use mock facilities\nsetFacilities([{_id:'1',name:'Library',description:'Well-stocked library with 50,000+ books'},{_id:'2',name:'Sports Complex',description:'Olympic-sized swimming pool and indoor stadium'},{_id:'3',name:'Science Labs',description:'Fully equipped physics, chemistry, and biology laboratories'}]);}};const handleSubmit=async e=>{e.preventDefault();if(!formData.name.trim()){setMessage('Facility name is required');return;}setLoading(true);setMessage('');try{const result=await instituteService.addFacility(formData);setFacilities(result.facilities||[...facilities,_objectSpread(_objectSpread({},formData),{},{_id:Date.now().toString()})]);setFormData({name:'',description:''});setShowForm(false);setMessage('Facility added successfully!');setTimeout(()=>setMessage(''),3000);}catch(error){console.error('Error adding facility:',error);setMessage('Error adding facility. Please try again.');}finally{setLoading(false);}};const handleRemove=async facilityId=>{if(window.confirm('Are you sure you want to remove this facility?')){try{const result=await instituteService.removeFacility(facilityId);setFacilities(result.facilities||facilities.filter(fac=>fac._id!==facilityId));setMessage('Facility removed successfully!');setTimeout(()=>setMessage(''),3000);}catch(error){console.error('Error removing facility:',error);setMessage('Error removing facility. Please try again.');}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"facilities-management\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Facilities Management\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowForm(true),className:\"btn btn-primary\",children:\"+ Add New Facility\"})]}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"message \".concat(message.includes('Error')?'error':'success'),children:message}),showForm&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Add New Facility\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"facility-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Facility Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.name,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{name:e.target.value})),placeholder:\"e.g., Library, Sports Complex, Laboratory\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:formData.description,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{description:e.target.value})),placeholder:\"Describe the facility and its features...\",rows:\"3\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setShowForm(false);setFormData({name:'',description:''});},className:\"btn btn-outline\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:loading||!formData.name.trim(),children:loading?'Adding...':'Add Facility'})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"facilities-list\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Current Facilities (\",facilities.length,\")\"]}),facilities.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"empty-state\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No facilities added yet. Add your first facility to showcase what your institute offers.\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"facilities-grid\",children:facilities.map(facility=>/*#__PURE__*/_jsxs(\"div\",{className:\"facility-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"facility-content\",children:[/*#__PURE__*/_jsx(\"h4\",{children:facility.name}),facility.description&&/*#__PURE__*/_jsx(\"p\",{children:facility.description})]}),/*#__PURE__*/_jsx(\"div\",{className:\"facility-actions\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRemove(facility._id),className:\"btn btn-danger btn-sm\",children:\"Remove\"})})]},facility._id))})]})]});};export default FacilitiesManagement;","map":{"version":3,"names":["React","useState","useEffect","instituteService","jsx","_jsx","jsxs","_jsxs","FacilitiesManagement","facilities","setFacilities","showForm","setShowForm","formData","setFormData","name","description","loading","setLoading","message","setMessage","fetchInstituteData","institute","getInstituteProfile","error","console","_id","handleSubmit","e","preventDefault","trim","result","addFacility","_objectSpread","Date","now","toString","setTimeout","handleRemove","facilityId","window","confirm","removeFacility","filter","fac","className","children","onClick","concat","includes","onSubmit","type","value","onChange","prev","target","placeholder","required","rows","disabled","length","map","facility"],"sources":["C:/Users/HP-PC/Desktop/edulist/frontend/src/components/InstituteDashboard/FacilitiesManagement.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { instituteService } from '../../services/institute';\r\n\r\nconst FacilitiesManagement = () => {\r\n  const [facilities, setFacilities] = useState([]);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    description: ''\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchInstituteData();\r\n  }, []);\r\n\r\n  const fetchInstituteData = async () => {\r\n    try {\r\n      const institute = await instituteService.getInstituteProfile();\r\n      setFacilities(institute.facilities || []);\r\n    } catch (error) {\r\n      console.error('Error fetching institute data:', error);\r\n      // Use mock facilities\r\n      setFacilities([\r\n        { _id: '1', name: 'Library', description: 'Well-stocked library with 50,000+ books' },\r\n        { _id: '2', name: 'Sports Complex', description: 'Olympic-sized swimming pool and indoor stadium' },\r\n        { _id: '3', name: 'Science Labs', description: 'Fully equipped physics, chemistry, and biology laboratories' }\r\n      ]);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!formData.name.trim()) {\r\n      setMessage('Facility name is required');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setMessage('');\r\n    \r\n    try {\r\n      const result = await instituteService.addFacility(formData);\r\n      setFacilities(result.facilities || [...facilities, { ...formData, _id: Date.now().toString() }]);\r\n      setFormData({ name: '', description: '' });\r\n      setShowForm(false);\r\n      setMessage('Facility added successfully!');\r\n      setTimeout(() => setMessage(''), 3000);\r\n    } catch (error) {\r\n      console.error('Error adding facility:', error);\r\n      setMessage('Error adding facility. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleRemove = async (facilityId) => {\r\n    if (window.confirm('Are you sure you want to remove this facility?')) {\r\n      try {\r\n        const result = await instituteService.removeFacility(facilityId);\r\n        setFacilities(result.facilities || facilities.filter(fac => fac._id !== facilityId));\r\n        setMessage('Facility removed successfully!');\r\n        setTimeout(() => setMessage(''), 3000);\r\n      } catch (error) {\r\n        console.error('Error removing facility:', error);\r\n        setMessage('Error removing facility. Please try again.');\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"facilities-management\">\r\n      <div className=\"page-header\">\r\n        <h2>Facilities Management</h2>\r\n        <button \r\n          onClick={() => setShowForm(true)}\r\n          className=\"btn btn-primary\"\r\n        >\r\n          + Add New Facility\r\n        </button>\r\n      </div>\r\n\r\n      {message && (\r\n        <div className={`message ${message.includes('Error') ? 'error' : 'success'}`}>\r\n          {message}\r\n        </div>\r\n      )}\r\n\r\n      {/* Add Facility Form */}\r\n      {showForm && (\r\n        <div className=\"form-section\">\r\n          <h3>Add New Facility</h3>\r\n          <form onSubmit={handleSubmit} className=\"facility-form\">\r\n            <div className=\"form-group\">\r\n              <label>Facility Name *</label>\r\n              <input\r\n                type=\"text\"\r\n                value={formData.name}\r\n                onChange={(e) => setFormData(prev => ({ ...prev, name: e.target.value }))}\r\n                placeholder=\"e.g., Library, Sports Complex, Laboratory\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label>Description</label>\r\n              <textarea\r\n                value={formData.description}\r\n                onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\r\n                placeholder=\"Describe the facility and its features...\"\r\n                rows=\"3\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-actions\">\r\n              <button \r\n                type=\"button\"\r\n                onClick={() => {\r\n                  setShowForm(false);\r\n                  setFormData({ name: '', description: '' });\r\n                }}\r\n                className=\"btn btn-outline\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button \r\n                type=\"submit\" \r\n                className=\"btn btn-primary\"\r\n                disabled={loading || !formData.name.trim()}\r\n              >\r\n                {loading ? 'Adding...' : 'Add Facility'}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      )}\r\n\r\n      {/* Facilities List */}\r\n      <div className=\"facilities-list\">\r\n        <h3>Current Facilities ({facilities.length})</h3>\r\n        \r\n        {facilities.length === 0 ? (\r\n          <div className=\"empty-state\">\r\n            <p>No facilities added yet. Add your first facility to showcase what your institute offers.</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"facilities-grid\">\r\n            {facilities.map((facility) => (\r\n              <div key={facility._id} className=\"facility-card\">\r\n                <div className=\"facility-content\">\r\n                  <h4>{facility.name}</h4>\r\n                  {facility.description && (\r\n                    <p>{facility.description}</p>\r\n                  )}\r\n                </div>\r\n                <div className=\"facility-actions\">\r\n                  <button \r\n                    onClick={() => handleRemove(facility._id)}\r\n                    className=\"btn btn-danger btn-sm\"\r\n                  >\r\n                    Remove\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FacilitiesManagement;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}